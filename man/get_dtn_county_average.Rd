% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/get_dtn_county_average.R
\name{get_dtn_county_average}
\alias{get_dtn_county_average}
\title{Pull DTN county average cash prices and basis for a commodity}
\usage{
get_dtn_county_average(
  commodity,
  start_date = Sys.Date() - 7,
  end_date = Sys.Date(),
  time_scale = "Daily",
  county_price_type = "County Average Spot Cash Price",
  fields = c("Open", "High", "Low", "Close", "Volume", "OpenInt"),
  county_fip = NULL,
  state_abbreviation = NULL
)
}
\arguments{
\item{commodity}{Character (length 1 or vector). Substring matched (case-insensitive)
against \code{symbols_county_price$commodity}.}

\item{start_date, end_date}{Date. Inclusive range. Defaults to the last 7 days.
Weekends are dropped.}

\item{time_scale}{One of "Daily","Weekly","Monthly". Default "Daily".}

\item{county_price_type}{Character. One or more of:
"County Average Spot Cash Price","County Average Cash Price",
"County Average Spot Basis Price","County Average Basis".}

\item{fields}{Character vector of ProphetX fields to retrieve.}

\item{county_fip}{Character/numeric vector of 5-digit county FIPS.}

\item{state_abbreviation}{Character vector of state abbreviations (e.g., "IA","NE").}
}
\value{
A data.table with one row per (symbol, date). Columns include symbol metadata,
\code{date}, \code{time_scale}, and wide OHLCV columns (\code{open}, \code{high}, \code{low}, \code{close}, \code{volume}, \code{openint}).
}
\description{
Builds and executes DTN ProphetX queries for one or more counties and
returns a tidy table over a weekday-only date range.
}
